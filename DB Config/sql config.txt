CREATE TABLE user( 
U_ID INTEGER NOT NULL, 
U_Name CHAR(30), 
IC_ID INTEGER NOT NULL,
OC_ID INTEGER NOT NULL,
PRIMARY KEY(U_ID));

CREATE TABLE Implement_Collection(
IC_ID INTEGER NOT NULL,
PRIMARY KEY(IC_ID));

CREATE TABLE Other_Collection(
OC_ID INTEGER NOT NULL,
PRIMARY KEY(OC_ID));

CREATE TABLE WoodP(
WP_ID INTEGER NOT NULL,
WP_Name CHAR(30),
WP_Material CHAR(30),
WP_Manufacturer CHAR(30),
PRIMARY KEY(WP_ID));

CREATE TABLE MechanicalP(
MP_ID INTEGER NOT NULL,
MP_Name CHAR(30),
MP_Material CHAR(30),
MP_Manufacturer CHAR(30),
MP_Lead_Size double,
PRIMARY KEY(MP_ID));

CREATE TABLE FountainP(
FP_ID INTEGER NOT NULL,
FP_Name CHAR(30),
FP_Material CHAR(30),
FP_Manufacturer CHAR(30),
FP_Ink_Type CHAR(30),
PRIMARY KEY(FP_ID));

CREATE TABLE CartridgeP(
CP_ID INTEGER NOT NULL,
CP_Name CHAR(30),
CP_Material CHAR(30),
CP_Manufacturer CHAR(30),
PRIMARY KEY(CP_ID));

CREATE TABLE Lead(
L_ID INTEGER NOT NULL,
L_Size DOUBLE,
L_Name CHAR(30),
L_Manufacturer CHAR(30),
PRIMARY KEY(L_ID));

CREATE TABLE Replacements(
R_ID INTEGER NOT NULL,
R_Name CHAR(30),
R_Type CHAR(30),
R_Manufacturer CHAR(30),
PRIMARY KEY(R_ID));

CREATE TABLE Ink(
I_ID INTEGER NOT NULL,
I_Name CHAR(30),
I_Color CHAR(30),
I_Manufacturer CHAR(30),
PRIMARY KEY(I_ID));

CREATE TABLE Pen_Cartridge(
PC_ID INTEGER NOT NULL,
PC_Name CHAR(30),
PC_Type CHAR(30),
PC_Manufacturer CHAR(30),
PRIMARY KEY(PC_ID));

CREATE TABLE Utility(
U_ID INTEGER NOT NULL,
U_Name CHAR(30),
U_Type CHAR(30),
U_Manufacturer CHAR(30),
PRIMARY KEY(U_ID));

CREATE TABLE IC_WP(
IC_ID INTEGER,
WP_ID INTEGER,
PRIMARY KEY(IC_ID,WP_ID)); 

CREATE TABLE IC_MP(
IC_ID INTEGER,
MP_ID INTEGER,
PRIMARY KEY(IC_ID,MP_ID));

CREATE TABLE IC_FP(
IC_ID INTEGER,
FP_ID INTEGER,
PRIMARY KEY(IC_ID,FP_ID));

CREATE TABLE IC_CP(
IC_ID INTEGER,
CP_ID INTEGER,
PRIMARY KEY(IC_ID,CP_ID));

CREATE TABLE OC_U(
OC_ID INTEGER,
U_ID INTEGER,
PRIMARY KEY(OC_ID,U_ID));  

CREATE TABLE OC_L(
OC_ID INTEGER,
L_ID INTEGER,
PRIMARY KEY(OC_ID,L_ID));

CREATE TABLE OC_I(
OC_ID INTEGER,
I_ID INTEGER,
PRIMARY KEY(OC_ID,I_ID));

CREATE TABLE OC_R(
OC_ID INTEGER,
R_ID INTEGER,
PRIMARY KEY(OC_ID,R_ID));

CREATE TABLE OC_PC(
OC_ID INTEGER,
PC_ID INTEGER,
PRIMARY KEY(OC_ID,PC_ID));

CREATE TABLE MP_L(
MP_ID INTEGER,
L_ID INTEGER,
PRIMARY KEY(MP_ID,L_ID));

CREATE TABLE MP_R(
MP_ID INTEGER,
R_ID INTEGER,
PRIMARY KEY(MP_ID,R_ID));

CREATE TABLE FP_R(
FP_ID INTEGER,
R_ID INTEGER,
PRIMARY KEY(FP_ID,R_ID));

CREATE TABLE FP_I(
FP_ID INTEGER,
I_ID INTEGER,
PRIMARY KEY(FP_ID,I_ID));

CREATE TABLE CP_R(
CP_ID INTEGER,
R_ID INTEGER,
PRIMARY KEY(CP_ID,R_ID));

CREATE TABLE CP_PC(
CP_ID INTEGER,
PC_ID INTEGER,
PRIMARY KEY(CP_ID,PC_ID));

ALTER TABLE user
ADD FOREIGN KEY ImpColl (IC_ID) REFERENCES Implement_Collection(IC_ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
ADD FOREIGN KEY OthColl (OC_ID) REFERENCES Other_Collection(OC_ID) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE Implement_Collection
ADD U_ID INTEGER DEFAULT NULL,
ADD FOREIGN KEY (U_ID) REFERENCES user(U_ID) ON DELETE CASCADE ON UPDATE NO ACTION;

ALTER TABLE Other_Collection 
ADD U_ID INTEGER DEFAULT NULL,
ADD FOREIGN KEY(U_ID) REFERENCES user(U_ID) ON DELETE CASCADE ON UPDATE NO ACTION;

ALTER TABLE IC_WP
ADD FOREIGN KEY icid(IC_ID) REFERENCES Implement_Collection(IC_ID) ON DELETE CASCADE ON UPDATE NO ACTION, 
ADD FOREIGN KEY wpid(WP_ID) REFERENCES WoodP(WP_ID) ON DELETE NO ACTION ON UPDATE NO ACTION; 

ALTER TABLE IC_MP
ADD FOREIGN KEY icid(IC_ID) REFERENCES Implement_Collection(IC_ID) ON DELETE CASCADE ON UPDATE NO ACTION, 
ADD FOREIGN KEY mpid(MP_ID) REFERENCES MechanicalP(MP_ID) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE IC_FP
ADD FOREIGN KEY icid(IC_ID) REFERENCES Implement_Collection(IC_ID) ON DELETE CASCADE ON UPDATE NO ACTION, 
ADD FOREIGN KEY fpid(FP_ID) REFERENCES FountainP(FP_ID) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE IC_CP
ADD FOREIGN KEY icid(IC_ID) REFERENCES Implement_Collection(IC_ID) ON DELETE CASCADE ON UPDATE NO ACTION, 
ADD FOREIGN KEY cpid(CP_ID) REFERENCES CartridgeP(CP_ID) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE OC_U
ADD FOREIGN KEY ocid(OC_ID) REFERENCES Other_Collection(OC_ID) ON DELETE CASCADE ON UPDATE NO ACTION, 
ADD FOREIGN KEY uid(U_ID) REFERENCES Utility(U_ID) ON DELETE NO ACTION ON UPDATE NO ACTION;  

ALTER TABLE OC_L 
ADD FOREIGN KEY ocid(OC_ID) REFERENCES Other_Collection(OC_ID) ON DELETE CASCADE ON UPDATE NO ACTION, 
ADD FOREIGN KEY lid(L_ID) REFERENCES Lead(L_ID) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE OC_I
ADD FOREIGN KEY oci(OC_ID) REFERENCES Other_Collection(OC_ID) ON DELETE CASCADE ON UPDATE NO ACTION, 
ADD FOREIGN KEY iid(I_ID) REFERENCES Ink(I_ID) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE OC_R
ADD FOREIGN KEY ocid(OC_ID) REFERENCES Other_Collection(OC_ID) ON DELETE CASCADE ON UPDATE NO ACTION, 
ADD FOREIGN KEY rid (R_ID) REFERENCES Replacements(R_ID) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE OC_PC
ADD FOREIGN KEY ocid(OC_ID) REFERENCES Other_Collection(OC_ID) ON DELETE CASCADE ON UPDATE NO ACTION, 
ADD FOREIGN KEY pcid(PC_ID) REFERENCES Pen_Cartridge(PC_ID) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE MP_L
ADD FOREIGN KEY mpid(MP_ID) REFERENCES MechanicalP(MP_ID) ON DELETE NO ACTION ON UPDATE NO ACTION, 
ADD FOREIGN KEY lid(L_ID) REFERENCES Lead(L_ID) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE MP_R
ADD FOREIGN KEY mpid(MP_ID) REFERENCES MechanicalP(MP_ID) ON DELETE NO ACTION ON UPDATE NO ACTION, 
ADD FOREIGN KEY rid(R_ID) REFERENCES Replacements(R_ID) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE FP_R
ADD FOREIGN KEY fpid(FP_ID) REFERENCES FountainP(FP_ID) ON DELETE NO ACTION ON UPDATE NO ACTION, 
ADD FOREIGN KEY rid(R_ID) REFERENCES Replacements(R_ID) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE FP_I
ADD FOREIGN KEY fpid(FP_ID) REFERENCES FountainP(FP_ID) ON DELETE NO ACTION ON UPDATE NO ACTION, 
ADD FOREIGN KEY fpi(I_ID) REFERENCES Ink(I_ID) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE CP_R
ADD FOREIGN KEY cpid(CP_ID) REFERENCES CartridgeP(CP_ID) ON DELETE NO ACTION ON UPDATE NO ACTION, 
ADD FOREIGN KEY rid(R_ID) REFERENCES Replacements(R_ID) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE CP_PC
ADD FOREIGN KEY cpid(CP_ID) REFERENCES CartridgeP(CP_ID) ON DELETE NO ACTION ON UPDATE NO ACTION, 
ADD FOREIGN KEY pcid(PC_ID) REFERENCES Pen_Cartridge(PC_ID) ON DELETE NO ACTION ON UPDATE NO ACTION;
